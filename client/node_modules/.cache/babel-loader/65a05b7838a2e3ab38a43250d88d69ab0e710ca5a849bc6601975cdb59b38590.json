{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/moritzsalla/Documents/GitHub/socketio-fiber-starter/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import React,{useEffect}from'react';import{Canvas,extend,useThree}from'react-three-fiber';import styled,{createGlobalStyle}from'styled-components';import{OrbitControls}from'three/examples/jsm/controls/OrbitControls';import{GAME_PRESETS}from'./constants/app';import{PIXEL_RATIO}from'./constants/env';import{useSubscribeActivePlayers}from'../hooks/useSubscribeActivePlayers';import CameraController from'./GameController';import Lights from'./Lights';import Players from'./Players';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";extend({OrbitControls:OrbitControls});var GlobalStyles=createGlobalStyle(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  html, body {\\n    background: black;\\n    color: white;\\n    min-height: 100vh;\\n    min-width: 100vw;\\n    margin: 0;\\n    padding: 0;\\n  }\\n\\n  canvas {\\n      position: fixed;\\n      top: 0;\\n      left: 0;\\n      height: 100vh;\\n      width: 100vw;\\n  }\\n\"])));var StyledHUD=styled.span(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  margin: 1rem;\\n  font-family: sans-serif;\\n  font-size: 3rem;\\n\"])));var Scene=function Scene(){var activePlayers=useSubscribeActivePlayers();useCameraController();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(GlobalStyles,{}),/*#__PURE__*/_jsxs(StyledHUD,{children:[activePlayers,\" Active Users\"]}),/*#__PURE__*/_jsxs(Canvas,{pixelRatio:PIXEL_RATIO,children:[/*#__PURE__*/_jsx(CameraController,{}),/*#__PURE__*/_jsx(Lights,{}),/*#__PURE__*/_jsx(Players,{})]})]});};var useCameraController=function useCameraController(){var _useThree=useThree(),camera=_useThree.camera,gl=_useThree.gl;useEffect(function(){var controls=new OrbitControls(camera,gl.domElement);controls.minDistance=GAME_PRESETS.controls.minDistance;controls.maxDistance=GAME_PRESETS.controls.maxDistance;// Cleanup the orbit controls when\n// our component unmounts.\nreturn function(){controls.dispose();};},[camera,gl]);};export default Scene;","map":{"version":3,"names":["React","useEffect","Canvas","extend","useThree","styled","createGlobalStyle","OrbitControls","GAME_PRESETS","PIXEL_RATIO","useSubscribeActivePlayers","CameraController","Lights","Players","GlobalStyles","StyledHUD","span","Scene","activePlayers","useCameraController","camera","gl","controls","domElement","minDistance","maxDistance","dispose"],"sources":["/Users/moritzsalla/Documents/GitHub/socketio-fiber-starter/client/src/components/Scene.js"],"sourcesContent":["import React, { useEffect } from 'react';\n\nimport { Canvas, extend, useThree } from 'react-three-fiber';\nimport styled, { createGlobalStyle } from 'styled-components';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\n\nimport { GAME_PRESETS } from './constants/app';\nimport { PIXEL_RATIO } from './constants/env';\n\nimport { useSubscribeActivePlayers } from '../hooks/useSubscribeActivePlayers';\n\nimport CameraController from './GameController';\nimport Lights from './Lights';\nimport Players from './Players';\n\nextend({ OrbitControls });\n\nconst GlobalStyles = createGlobalStyle`\n  html, body {\n    background: black;\n    color: white;\n    min-height: 100vh;\n    min-width: 100vw;\n    margin: 0;\n    padding: 0;\n  }\n\n  canvas {\n      position: fixed;\n      top: 0;\n      left: 0;\n      height: 100vh;\n      width: 100vw;\n  }\n`;\n\nconst StyledHUD = styled.span`\n  position: fixed;\n  top: 0;\n  left: 0;\n  margin: 1rem;\n  font-family: sans-serif;\n  font-size: 3rem;\n`;\n\nconst Scene = () => {\n  const activePlayers = useSubscribeActivePlayers();\n\n  useCameraController();\n\n  return (\n    <>\n      <GlobalStyles />\n\n      <StyledHUD>{activePlayers} Active Users</StyledHUD>\n\n      <Canvas pixelRatio={PIXEL_RATIO}>\n        <CameraController />\n        <Lights />\n        <Players />\n      </Canvas>\n    </>\n  );\n};\n\nconst useCameraController = () => {\n  const { camera, gl } = useThree();\n\n  useEffect(() => {\n    const controls = new OrbitControls(camera, gl.domElement);\n\n    controls.minDistance = GAME_PRESETS.controls.minDistance;\n    controls.maxDistance = GAME_PRESETS.controls.maxDistance;\n\n    // Cleanup the orbit controls when\n    // our component unmounts.\n    return () => {\n      controls.dispose();\n    };\n  }, [camera, gl]);\n};\n\nexport default Scene;\n"],"mappings":"4MAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CAExC,OAASC,MAAM,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,mBAAmB,CAC5D,MAAOC,OAAM,EAAIC,iBAAiB,KAAQ,mBAAmB,CAC7D,OAASC,aAAa,KAAQ,2CAA2C,CAEzE,OAASC,YAAY,KAAQ,iBAAiB,CAC9C,OAASC,WAAW,KAAQ,iBAAiB,CAE7C,OAASC,yBAAyB,KAAQ,oCAAoC,CAE9E,MAAOC,iBAAgB,KAAM,kBAAkB,CAC/C,MAAOC,OAAM,KAAM,UAAU,CAC7B,MAAOC,QAAO,KAAM,WAAW,CAAC,6IAEhCV,MAAM,CAAC,CAAEI,aAAa,CAAbA,aAAc,CAAC,CAAC,CAEzB,GAAMO,aAAY,CAAGR,iBAAiB,wUAiBrC,CAED,GAAMS,UAAS,CAAGV,MAAM,CAACW,IAAI,iLAO5B,CAED,GAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CAClB,GAAMC,cAAa,CAAGR,yBAAyB,EAAE,CAEjDS,mBAAmB,EAAE,CAErB,mBACE,wCACE,KAAC,YAAY,IAAG,cAEhB,MAAC,SAAS,YAAED,aAAa,CAAC,eAAa,GAAY,cAEnD,MAAC,MAAM,EAAC,UAAU,CAAET,WAAY,wBAC9B,KAAC,gBAAgB,IAAG,cACpB,KAAC,MAAM,IAAG,cACV,KAAC,OAAO,IAAG,GACJ,GACR,CAEP,CAAC,CAED,GAAMU,oBAAmB,CAAG,QAAtBA,oBAAmB,EAAS,CAChC,cAAuBf,QAAQ,EAAE,CAAzBgB,MAAM,WAANA,MAAM,CAAEC,EAAE,WAAFA,EAAE,CAElBpB,SAAS,CAAC,UAAM,CACd,GAAMqB,SAAQ,CAAG,GAAIf,cAAa,CAACa,MAAM,CAAEC,EAAE,CAACE,UAAU,CAAC,CAEzDD,QAAQ,CAACE,WAAW,CAAGhB,YAAY,CAACc,QAAQ,CAACE,WAAW,CACxDF,QAAQ,CAACG,WAAW,CAAGjB,YAAY,CAACc,QAAQ,CAACG,WAAW,CAExD;AACA;AACA,MAAO,WAAM,CACXH,QAAQ,CAACI,OAAO,EAAE,CACpB,CAAC,CACH,CAAC,CAAE,CAACN,MAAM,CAAEC,EAAE,CAAC,CAAC,CAClB,CAAC,CAED,cAAeJ,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}